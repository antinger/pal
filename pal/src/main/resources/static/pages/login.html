
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="shortcut icon" type="image/x-icon" href="./images/favicon.icon">
		<title>登录</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta http-equiv="X-UA-Compatible" content="IE=11"> 
		<link rel="stylesheet" type="text/css" href="css/animate.css">
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="css/line-awesome.css">
		<link rel="stylesheet" type="text/css" href="css/line-awesome-font-awesome.min.css">
		<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
		<link rel="stylesheet" type="text/css" href="lib/slick/slick.css">
		<link rel="stylesheet" type="text/css" href="lib/slick/slick-theme.css">
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<link rel="stylesheet" type="text/css" href="css/responsive.css">
		<link rel="stylesheet" type="text/css" href="css/login.css">
		
		<link href="time/css/bootstrap-datetimepicker.css" rel="stylesheet">
		<!--时间css end-->
		<link href="time/css/animate.min.css" rel="stylesheet">
		<link href="time/css/prettify-1.0.css" rel="stylesheet">
		<link href="time/css/base.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="time/css/default.css">
	</head>
	

	<body class="sign-in">

		<div id="app" class="wrapper">
			
			<div class="sign-in-page">
				<div class="signin-popup">
					<div class="signin-pop">
						
						<div class="row" style="padding: 50px 0;">
							<div class="col-lg-6">
								<select class="form-control form-control-lg language" v-model="languageID" @click="change">
									<option selected="true" value="1">中文简体</option>
									<option value="2">中文-繁體</option>
									<option value="3">English</option>
									<option value="4">한국어</option>
									<option value="5">にほんご</option>
									<option value="6">ภาษาไทย</option>
								</select>
								<div class="login-sec">
									<ul class="sign-control">
										<li data-tab="tab-1" class="current"><a href="#" title="">{{label[0]}}</a></li>				
										<li data-tab="tab-2"><a href="#" title="">{{label[1]}}</a></li>
										<li data-tab="tab-3"><a href="#" title="">{{label[2]}}</a></li>
									</ul>
									<div class="sign_in_sec current" id="tab-1">
										<form>
											<div class="row">
												<div class="col-lg-12 no-pdd">
													<div class="sn-field">
														<input type="text" v-model="username" :placeholder="loginPlaceholder[0]">
														<i class="la la-user"></i>
													</div><!--sn-field end-->
												</div>
												<div class="col-lg-12 no-pdd">
													<div class="sn-field">
														<input type="password" v-model="password" :placeholder="loginPlaceholder[1]">
														<i class="la la-lock"></i>
													</div>
												</div>
												<div class="col-lg-12 no-pdd">
													<a class="btn btn-danger btn-lg btn-block" @click="login">{{label[0]}}</a>
												</div>
											</div>
										</form>
										
									</div><!--sign_in_sec end-->
									<div class="sign_in_sec" id="tab-2">
										
										<div class="dff-tab current" id="">
											<form>
												<div class="row">
													<div class="col-lg-12 no-pdd">
														<div class="sn-field">
															<input type="text" v-model="username" :placeholder="registerPlaceholder[0]">
															<i class="la la-user"></i>
														</div>
													</div>
													<div class="col-lg-12 no-pdd">
														<div class="sn-field">
															<input type="text" v-model="email" :placeholder="registerPlaceholder[1]">
															<i class="la la-globe"></i>
														</div>
													</div>
													<div class="col-lg-12 no-pdd">
														<div class="sn-field">
															<input type="password" v-model="password" :placeholder="registerPlaceholder[2]">
															<i class="la la-lock"></i>
														</div>
													</div>
													<div class="col-lg-12 no-pdd row">
														<div class="sn-field col-6">
															<input type="radio" name="sex" v-model="sex" class="sex-radio" value="0">
															<i class="la">{{sexLabel[0]}}</i>
														</div>
														<div class="sn-field col-6">
															<input type="radio" name="sex" v-model="sex" class="sex-radio" value="1">
															<i class="la">{{sexLabel[1]}}</i>
														</div>
													</div>
													<div class="col-lg-12 no-pdd">
														<div class="sn-field">
															<input type="date" v-model="birthday" :placeholder="registerPlaceholder[3]"/>
														</div>
													</div>
													
													<div class="col-lg-12 no-pdd">
														<a class="btn btn-danger btn-lg btn-block" @click="register">{{label[1]}}</a>
													</div>
												</div>
											</form>
										</div><!--dff-tab end-->
										
									</div>	
									<div class="sign_in_sec" id="tab-3">
										<form>
											<div class="row">
												<div class="col-lg-12 no-pdd">
													<div class="sn-field">
														{{label[4]}}:000000
													</div>
												</div>
												<div class="col-lg-12 no-pdd">
													<div class="sn-field">
														<input type="text" name="username" :placeholder="loginPlaceholder[0]">
														<i class="la la-user"></i>
													</div><!--sn-field end-->
												</div>
												<div class="col-lg-12 no-pdd">
													<div class="sn-field">
														<input type="password" name="password" :placeholder="forgetPlaceholder[0]">
														<i class="la la-lock"></i>
													</div>
												</div>
												<div class="col-lg-12 no-pdd">
													<div class="sn-field">
														<input type="password" name="password" :placeholder="forgetPlaceholder[1]">
														<i class="la la-lock"></i>
													</div>
												</div>
												<div class="col-lg-12 no-pdd">
													<div class="sn-field">
														<input type="password" name="password" :placeholder="forgetPlaceholder[2]">
														<i class="la la-lock"></i>
													</div>
												</div>
												<div class="col-lg-12 no-pdd">
													<a class="btn btn-danger btn-lg btn-block" @click="reset">{{label[3]}}</a>
												</div>
											</div>
										</form>
										
									</div><!--sign_in_sec end-->
								</div><!--login-sec end-->
							</div>
							<div class="col-lg-6">
								<div class="row no-gutters" style="padding:5px;">
								    <div class="col-md-3">
								      <img src="images/login/1.png" class="card-img" alt="" style="border-radius: 50%;height: 100px;width: 100px;">
								    </div>
								    <div class="col-md-9">
								      <div class="card-body">
								        <p class="card-text">这里给了我冒险的感觉！该网站非常易于使用，并遇到了有趣的人</p>
								      </div>
								    </div>
								</div>
								<div class="row no-gutters" style="padding:5px;">
								    <div class="col-md-3">
								      <img src="images/login/2.png" class="card-img" alt="" style="border-radius: 50%;height: 100px;width: 100px;">
								    </div>
								    <div class="col-md-9">
								      <div class="card-body">
								        <p class="card-text">结识来自不同国家的人，而不是他们自己，却有着相似的兴趣和价值观，真是太酷了。</p>
								      </div>
								    </div>
								</div>
								<div class="row no-gutters" style="padding:5px;">
								    <div class="col-md-3">
								      <img src="images/login/3.png" class="card-img" alt="" style="border-radius: 50%;height: 100px;width: 100px;">
								    </div>
								    <div class="col-md-9">
								      <div class="card-body">
								        <p class="card-text">这里有很多有趣的人...我在这里爱上了她。</p>
								      </div>
								    </div>
								</div>
								<div class="row no-gutters" style="padding:5px;">
								    <div class="col-md-3">
								      <img src="images/login/4.png" class="card-img" alt="" style="border-radius: 50%;height: 100px;width: 100px;">
								    </div>
								    <div class="col-md-9">
								      <div class="card-body">
								        <p class="card-text">我的约会变得非常糟糕，所以我决定尝试一个全球约会...我在这里遇到了他，我们无法停止互相交谈！</p>
								      </div>
								    </div>
								</div>
							</div>
							
						</div>		
					</div><!--signin-pop end-->
				</div><!--signin-popup end-->
			</div>


		</div><!--theme-layout end-->
		
	</body>
	
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/popper.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="lib/slick/slick.min.js"></script>
	<script type="text/javascript" src="js/script.js"></script>
	<script src="js/vue-2.4.0.js"></script>
	<script src="js/vue-resource-1.3.4.js"></script>
	<script src="time/js/base.js"></script>
	 <!--时间js start-->
	<script src="time/js/moment-with-locales.js"></script>
	<script src="time/js/bootstrap-datetimepicker.js"></script>
	<script src="js/browser.min.js"></script>
	<script src="js/polyfill.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
	    $(function () {
	        $('#datetimepicker3').datetimepicker({
	            locale: 'zh-cn',viewMode: 'days',format: 'YYYY/MM/DD'
	        });
	    });
	</script>
	<script type="text/babel">
		var vm = new Vue({
			el : '#app',
			data:{
				/* 登录---------------start */
				username:"",
				password:"",
				/* 登录---------------end */
				
				/* 注册----------------start */
				email:"",
				birthday:"",
				sex:2,
				/* 注册----------------end */
				
				/* 注册异常------------start */
				
				/* 注册异常------------end */
				
				/* 登录异常-----------------start */
				
				/* 登录异常-----------------end */
				
				/* 密保----------------start */
				name:"",
				like:"",
				/* 密保----------------end */
				
				/* 语言转换定义 -----------start*/
				languageID : 3,
				label:["登录", "注册", "忘记密码", "重置密码", "重置后，新的密码是", "账号需要审核"],
				loginPlaceholder:["请输入用户名", "请输入密码"],
				registerPlaceholder:["请输入用户名", "请输入邮箱", "请输入密码", "请选择生日"],
				sexLabel:["男", "女"],
				forgetPlaceholder:["你的真实姓名？", "你的邮箱地址？", "你最喜欢的人？"],
				errTitle:["账号已注册", "邮箱已注册", "邮箱格式不正确","密码长度少于六位数", "用户名不正确", "密码不正确", "重置成功"]
				/* 语言转换定义 -----------end*/
			},
			methods:{
				register(){
					if(this.username == "" || this.password == "" || this.email == "" || this.birthday == "" || this.sex == 2) {
						return ;
					}
					var formData = new FormData();
					formData.append('username', this.username);
					formData.append('password', this.password);
					formData.append('email', this.email);
					formData.append('birthday', this.birthday);
					formData.append('sex', this.sex);
					this.$http.post('/register/', formData)
					.then(function (res) {
						if(res.body.name){
							alert(this.errTitle[0])
							return
						}
						if(res.body.email){
							alert(this.errTitle[1])
							return
						}
						if(res.body.emailErr){
							alert(this.errTitle[2])
							return
						}
						if(res.body.eor) {
							alert(res.body.eor)
							return 
						}
						if(this.sex == 1){
							alert(this.label[5])
						} else{
							alert("ok")
						}
						this.username = ""
						this.password = ""
						this.email = ""
						this.birthday = ""
						if(res.body.ticket) {
							localStorage.setItem('ticket',res.body.ticket)
						}
					}, function (res) {
					    console.log(res.body);
					});
				},
				login(){
					if(this.username == "" || this.password == "") {
						return ;
					}
					var formData = new FormData();
					formData.append('username', this.username);
					formData.append('password', this.password);
					this.$http.post('/login/', formData)
					.then(function (res) {
						if(res.body.name) {
							alert(this.errTitle[4])
							return 
						}
						if(res.body.password) {
							alert(this.errTitle[5])
							return 
						}
						if(res.body.ticket) {
							localStorage.setItem('ticket',res.body.ticket)
							window.location.href="index.html"
						}
					}, function (res) {
					    console.log(res.body);
					});
				},
				reset(){
					if(this.username == "" || this.name == "" || this.email == "" || this.like == "") {
						return ;
					}
					var formData = new FormData();
					formData.append('username', this.username);
					formData.append('name', this.name);
					formData.append('email', this.email);
					formData.append('like', this.like);
					this.$http.post('/reset/', formData)
					.then(function (res) {
						if(res.body.message){
							alert(this.errTitle[6])
						}
						if(res.body.eor){
							alert(res.body.eor)
							return
						}
						this.username = ""
						this.name = ''
						this.email = ''
						this.like = ''
					}, function (res) {
					    console.log(res.body);
					});
				},
				change(){
					localStorage.setItem('languageID', this.languageID)
					if(this.languageID == 1) {
						this.errTitle = ["账号已注册", "邮箱已注册", "邮箱格式不正确","密码长度少于六位数", "用户名不正确", "密码不正确", "重置成功"]
						this.label = ["登录", "注册", "忘记密码", "重置密码", "重置后，新的密码是", "账号需要审核"]
						this.loginPlaceholder = ["请输入用户名", "请输入密码"]
						this.registerPlaceholder = ["请输入用户名", "请输入邮箱", "请输入密码", "请选择生日"]
						this.sexLabel = ["男", "女"]
						this.forgetPlaceholder = ["你的真实姓名？", "你的邮箱地址？", "你最喜欢的人？"]
					} else if(this.languageID == 2) {
						this.errTitle = ["账号已注册", "邮箱已注册", "邮箱格式不正确","密码长度少于六位数", "用户名不正确", "密码不正确", "重置成功"]
						this.label = ["登錄", "註冊", "忘記密碼", "重置密碼", "重置後，新的密碼是", "賬號需要審核"]
						this.loginPlaceholder = ["請輸入用戶名", "請輸入密碼"]
						this.registerPlaceholder = ["請輸入用戶名", "請輸入郵箱", "請輸入密碼", "請選擇生日"]
						this.sexLabel = ["男", "女"]
						this.forgetPlaceholder = ["妳的真實姓名？", "妳的郵箱地址？", "妳最喜歡的人？"]
					} else if(this.languageID == 3) {
						this.errTitle = ["Account registered", "email registered", "email format is not correct", "password length less than six figures", "incorrect username", "password incorrect", "reset success"]
						this.label = ["login", "register", "forget password", "reset passwords ", "After the reset, the new password is", "The account needs to be reviewed."]
						this.loginPlaceholder = ["username", "password"]
						this.registerPlaceholder = ["usrname", "email", "password", "birthday"]
						this.sexLabel = ["man", "woman"]
						this.forgetPlaceholder = ["Your real name？", "Your email address？", "Your favorite person？"]
					} else if(this.languageID == 4) {
						this.errTitle = ["계정 등록 되였다.","e-메일 보관함 등록 되였다.","e-메일 보관함 격식이 정확 하지 않다","비밀번호 길이보다 여섯 자리","사용자 이름이 정확 하지 않다","비밀번호 가 정확 하지 않다","성공초기화"]
						this.label = ["로그인", "등기", "비밀번호를 잊어버리다", "비밀번호 초기화", "다시 시작하면 새로운 비밀번호는", "계좌 번호를 심사해야 한다."]
						this.loginPlaceholder = ["사용자 이름.", " 비밀 번호"]
						this.registerPlaceholder = ["사용자 이름.", "우편함", " 비밀 번호", "출생일"]
						this.sexLabel = ["남성.", "여자."]
						this.forgetPlaceholder = ["여러분의 진짜 이름은？", "여러분의 이메일 주소가？", "여러분이 가장 좋아하는 사람은？"]
					} else if(this.languageID == 5) {
						this.errTitle = ["アカウントが登録", "メールが登録し","メールのフォーマット正しくない", "パスワード丈より六桁の数字は", "ユーザー名正しくない", "パスワードを正しくない", "リセット成功"]
						this.label = ["登録する", "登録", "パスワードを忘れる", "パスワードをリセットする", "リセット後、新しいパスワードは", "アカウントは査定する必要がある"]
						this.loginPlaceholder = ["ユーザー名「めい」", "あんごうふごう"]
						this.registerPlaceholder = ["ユーザー名「めい」", "ポスト", "あんごうふごう", "たんじょうび"]
						this.sexLabel = ["おとこ", "おんな"]
						this.forgetPlaceholder = ["あなたの本当の名前？", "あなたのメールアドレス？", "あなたの大好きな人？"]
					} else if(this.languageID == 6) {
						this.errTitle = ["บัญชีลงทะเบียน", "อีเมล์ลงทะเบียน", "รูปแบบอีเมลไม่ถูกต้อง", "รหัสผ่านน้อยกว่าหกหลักในความยาว", "ชื่อผู้ใช้ไม่ถูกต้อง", "รหัสผ่านไม่ถูกต้อง", "รีเซ็ตสําเร็จ"]
						this.label = ["เข้า สู่ ระบบ", "ลง ทะเบียน", "ลืมรหัสผ่าน", "รีเซ็ตรหัสผ่านของคุณ", "หลังจากรีเซ็ตรหัสผ่านใหม่จะ", "บัญชีต้องได้รับการตรวจทาน"]
						this.loginPlaceholder = ["ชื่อผู้ใช้", "รหัส ผ่าน"]
						this.registerPlaceholder = ["ชื่อผู้ใช้", "กล่อง จดหมาย", "รหัส ผ่าน", "วัน"]
						this.sexLabel = ["คน", "ผู้หญิง"]
						this.forgetPlaceholder = ["ชื่อคนแรกและนามสกุล？", "ที่อยู่อีเมลของคุณ？", "คนโปรดของคุณ？"]
					}
				}
			},
			beforeMount() {
				if(localStorage.getItem("languageID")){
					this.languageID = localStorage.getItem("languageID")
				} else{
					this.languageID = 3
				}
				this.change()
			},
			
		})
	</script>
</html>