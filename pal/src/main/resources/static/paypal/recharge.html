<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
	</head>
	<body>
		<div id="app">
			<div style="font-size: 140px;">{{titleA}}</div>
			<div class="row" style="margin-top: 10px;display: flex;justify-content: center;align-content: center;">
				<form action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post" target="_blank" id="sform-2">
					<input type="hidden" name="cmd" value="_xclick">	<!-- 立即支付 -->
					<input type="hidden" name="business" id="business2">  <!-- 商家账号-->
					<input id='item_number' type="hidden" name="item_number" value="产品编号"> <!-- 产品编号-->
					<input id='amount2' type="hidden" name="amount">  <!-- 付款/充值金额  -->
					<!-- 支付成功后paypal后台发送回调地址-->
					<input type='hidden' name='notify_url' value='http://47.115.142.159:8080/paysuccess/'>  
					<!-- 支付成功后网页跳转地址-->
					<input type='hidden' name='return' value='http://47.115.142.159:8080/pages/success.html'> 
					<input type="hidden" name="currency_code" value="USD">	<!-- 货币 -->
					<input type='hidden' name='charset' value='utf-8'>	<!-- 字符集 -->
					<input type="hidden" name="no_shipping" value="1"> <!-- 不要求客户提供收货地址 -->
					<input type="hidden" name="bn" value="IC_Sample">
					<input type='hidden' name='rm' value='2'>
					<!-- 自定义变量 -->
					<input type='hidden' name='custom' id="custom2">
					<a class="btn btn-success" @click="checkRecharge">paypal</a>
				</form>
			</div>
		</div>
	</body>
	<script src="js/popper.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/vue-2.4.0.js"></script>
	<script src="js/vue-resource-1.3.4.js"></script>
	<script type="text/babel">
		var vm = new Vue({
			el : '#app',
			data:{
				ticket:"",
				account:"",
				//充值-------为自己支付,还是为别人支付
				rechargeType:0,
				//为别人充值得用户
				rechargeUser:"",
				//别人得名字
				rechargeUsername:"",
				//充值金额
				money:0,
				//选择充值方式
				recharge:0,
				//自定义变量
				rechargeCustom:"",
				/* 支付----------------end */
				titleA:""
			},
			methods:{
				checkRecharge(){
					if(this.rechargeType == 0 || this.money == 0 || this.recharge == 0) {
						return
					}
					if(this.rechargeType == 2 && this.rechargeUsername == "" && this.rechargeUser == null) {
						return
					}
					if(this.rechargeType == 1) {
						this.rechargeCustom = this.payType + "&" + this.recharge + "&" + this.ticket + "&" + this.money
					} else {
						this.rechargeCustom = this.payType + "&" + this.recharge + "&" + this.ticket + "&" + this.money + "&" + this.rechargeUsername
					}
					document.getElementById("custom2").value=this.rechargeCustom
					document.getElementById("amount2").value=this.money
					document.getElementById("business2").value = this.account
					document.getElementById("sform-2").submit()
				},
				getUrlQuery() {
					var query = window.location.search.substring(1)
					var vars = query.split("?")
					this.titleA = vars[1]
				}
			},
			beforeMount(){
				this.getUrlQuery()
			}
		})
</html>
